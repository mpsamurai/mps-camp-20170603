<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script type="text/javascript">
        var checkPalindrome = function (str, without) {
            if (!without) {
                str = str.replace(without, '');
            }
            var strlen = str.length;
            if (strlen == 1) {
                return true;
            }
            var pre  = '';
            var after  = '';
            for (var i = 0; i < strlen; i++) {
                if (i < (strlen / 2)) {
                    // 前から一文字切り出し
                    pre = str.slice(i,(i+1));
                    // 後から一文字切り出し
                    var afterPosition = ((i + 1) * -1);
                    if (i == 0) {
                        after = str.slice(afterPosition);
                    } else {
                        after = str.slice(afterPosition,(afterPosition + 1));
                    }
                    // 比較
                    if (pre != after) {
                        return false;
                    }
                } else {
                    break;
                }
            }
            return true;
        }
        var str = 'abcba';
        console.log(checkPalindrome(str));
    </script>
</body>
</html>
